<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <title>AjaxSupport</title>

    <script type="text/javascript">

    var newDiv;

    // Simulates an ajax call for
    // purpose of this demo
    function OnAjaxCall()
    {
        // Will wait 4 seconds and then call the AjaxCallReturned
        // function.
        window.setTimeout("AjaxCallReturned()",1000);
    }

    // Function responding to an ajax call
    // and invokes changes on the page.
    function AjaxCallReturned()
    {
        newDiv = document.createElement("div");
        newDiv.innerHTML = "<h3>We are back!</h3>";
        // add the newly created element as child to the data div
        var myDataDiv = document.getElementById("data");
        myDataDiv.appendChild(newDiv);

        // simulate another Ajax call.
        window.setTimeout("AjaxCallPart2();",1000);
    }

    // A function called in response to the returned
    // ajax call that also affects the page.
    function AjaxCallPart2()
    {
        // in here we will set the color of the added text.
        newDiv.style.backgroundColor = "red";
    }
    </script>
</head>
<body>
    <div id="data" onclick="OnAjaxCall()" style="width: 200px; height: 100px; border: solid 1px black;
        text-align: center">
    </div>
</body>
</html>
